<div class="container my-5">
    <h1 class="mb-4 text-primary">Actividades Propuestas: Servidores y Arquitectura Web</h1>

    <h2 class="mb-4 text-primary">Nivel 1: Cuestiones Te√≥ricas y de Investigaci√≥n üß†</h2>
    <p>Estas actividades est√°n dise√±adas para consolidar la comprensi√≥n de los conceptos te√≥ricos.</p>
    <div class="alert alert-info">
        <strong>Herramienta clave:</strong> Para la actividad 2, utiliza las <strong>Herramientas de
            Desarrollador</strong>
        de tu navegador (puedes abrirlas con la tecla F12 o `Ctrl+Shift+I`), especialmente la pesta√±a
        <strong>"Red" (Network)</strong>.
    </div>

    <h4 class="mb-4 text-primary">Actividad 1: La Evoluci√≥n de HTTP</h4>
    <p>En un documento de texto, crea una tabla comparativa que resuma las caracter√≠sticas y, lo m√°s importante, el
        <strong>problema principal que solucion√≥</strong> cada nueva versi√≥n del protocolo HTTP:
    </p>
    <ul>
        <li>HTTP/1.0 (el problema de la conexi√≥n √∫nica por recurso).</li>
        <li>HTTP/1.1 (el problema de la ineficiencia de crear m√∫ltiples conexiones).</li>
        <li>HTTP/2 (el problema del "Head-of-Line Blocking" a nivel de HTTP).</li>
        <li>HTTP/3 (el problema del "Head-of-Line Blocking" a nivel de TCP).</li>
    </ul>

    <h4 class="mb-4 text-primary">Actividad 2: Anatom√≠a de una Petici√≥n Real</h4>
    <ol>
        <li>Abre la pesta√±a "Red" en las herramientas de desarrollador de tu navegador.</li>
        <li>Visita una p√°gina web compleja, como <code>www.amazon.es</code> o <code>elpais.com</code>.</li>
        <li>Selecciona la primera petici√≥n de la lista (normalmente el documento HTML principal).</li>
        <li>Examina las cabeceras (Headers) de la petici√≥n y la respuesta. Identifica y anota en un documento:</li>
        <ul>
            <li>El <strong>M√©todo</strong> de la petici√≥n y el <strong>C√≥digo de Estado</strong> de la respuesta.</li>
            <li>La cabecera de petici√≥n <code>User-Agent</code>. ¬øQu√© informaci√≥n revela sobre tu sistema?</li>
            <li>La cabecera de respuesta <code>Content-Type</code>. ¬øQu√© tipo de documento has recibido?</li>
            <li>La cabecera de respuesta <code>Server</code>. ¬øPuedes identificar si usan Apache, Nginx u otro
                servidor?</li>
            <li>Busca una petici√≥n a un fichero de imagen (JPG, PNG) y compara su <code>Content-Type</code> con el del
                documento HTML.</li>
        </ul>
    </ol>

    <h4 class="mb-4 text-primary">Actividad 3: El Gran Debate: Apache vs. Nginx</h4>
    <p>Investiga y responde a las siguientes preguntas en un documento:</p>
    <ol>
        <li>¬øQu√© son los archivos <code>.htaccess</code> de Apache y por qu√© son tan populares en los servicios de
            hosting compartido? ¬øPor qu√© Nginx decidi√≥ no implementar un sistema similar?</li>
        <li>Imagina que tienes que desplegar dos proyectos diferentes:
            <ul>
                <li><strong>Proyecto A:</strong> Un blog de WordPress con mucho tr√°fico y muchas im√°genes.</li>
                <li><strong>Proyecto B:</strong> Una intranet para una empresa con 10 empleados que utiliza una
                    aplicaci√≥n PHP muy espec√≠fica que depende de varios m√≥dulos de Apache poco comunes.</li>
            </ul>
            Argumenta qu√© servidor web (Apache, Nginx o una configuraci√≥n h√≠brida) elegir√≠as para cada caso y
            justifica tu decisi√≥n bas√°ndote en la arquitectura y caracter√≠sticas de cada uno.
        </li>
    </ol>

    <h2 class="mb-4 text-primary">Nivel 2: Actividades Pr√°cticas Guiadas üõ†Ô∏è</h2>
    <p>Estas actividades requieren una m√°quina virtual con un sistema operativo de servidor (como Debian o Ubuntu
        Server) para aplicar lo aprendido.</p>

    <h4 class="mb-4 text-primary">Actividad 4: Instalaci√≥n y Configuraci√≥n de un Stack LEMP</h4>
    <ol>
        <li>Instala Nginx, MariaDB (MySQL) y PHP (con el paquete `php-fpm`) en tu servidor. A este conjunto se le conoce
            como "stack LEMP".</li>
        <li>Verifica que todos los servicios est√°n funcionando correctamente.</li>
        <li>Crea un archivo <code>info.php</code> en el directorio web por defecto (<code>/var/www/html</code>) con el
            contenido <code>&lt;?php phpinfo(); ?&gt;</code>.</li>
        <li>Modifica la configuraci√≥n de Nginx para que sea capaz de procesar archivos PHP a trav√©s de PHP-FPM.</li>
        <li>Accede desde tu navegador a la IP del servidor para ver la p√°gina de informaci√≥n de PHP.</li>
    </ol>

    <h4 class="mb-4 text-primary">Actividad 5: Configuraci√≥n de M√∫ltiples Sitios con Server Blocks</h4>
    <ol>
        <li>Crea dos directorios diferentes para dos sitios web: <code>/var/www/sitio1</code> y
            <code>/var/www/sitio2</code>.
        </li>
        <li>En cada directorio, crea un archivo <code>index.html</code> simple pero distinto (ej. "Bienvenido al Sitio
            1" y "P√°gina Principal del Sitio 2").</li>
        <li>Crea dos archivos de configuraci√≥n de Server Block en <code>/etc/nginx/sites-available/</code>, uno para
            cada sitio. Asigna a cada uno un nombre de servidor ficticio (ej. <code>sitio1.local</code> y
            <code>sitio2.local</code>).
        </li>
        <li>Habilita ambos sitios creando los enlaces simb√≥licos correspondientes en
            <code>/etc/nginx/sites-enabled/</code>.
        </li>
        <li>Modifica el archivo <code>hosts</code> de <strong>tu m√°quina local</strong> para que los dominios
            <code>sitio1.local</code> y <code>sitio2.local</code> apunten a la IP de tu m√°quina virtual.
        </li>
        <li>Reinicia Nginx y comprueba que puedes acceder a ambos sitios usando sus respectivos dominios desde tu
            navegador.</li>
    </ol>

    <h4 class="mb-4 text-primary">Actividad 6: An√°lisis de Logs para Depuraci√≥n</h4>
    <ol>
        <li>Accede con √©xito a <code>sitio1.local</code>. Luego, intenta acceder a una p√°gina que no exista, como
            <code>sitio1.local/pagina-inventada.html</code>.
        </li>
        <li>Con√©ctate al servidor y utiliza el comando <code>tail</code> para ver los √∫ltimos registros de los archivos
            de log de Nginx.</li>
        <li>En <code>/var/log/nginx/access.log</code>, localiza la l√≠nea que corresponde a tu acceso correcto (deber√≠a
            tener un c√≥digo de estado 200).</li>
        <li>En <code>/var/log/nginx/error.log</code>, localiza la l√≠nea que corresponde al intento de acceso fallido (el
            error del fichero no encontrado que genera un 404).</li>
        <li>Documenta ambas l√≠neas y explica qu√© informaci√≥n te proporciona cada parte.</li>
    </ol>

    <h2 class="mb-4 text-primary">Nivel 3: Desaf√≠os y Pr√°cticas Avanzadas üöÄ</h2>
    <p>Estos desaf√≠os requieren que investigues y apliques soluciones a problemas m√°s complejos y realistas.</p>

    <h4 class="mb-4 text-primary">Desaf√≠o 7: Asegurando el Servidor con HTTPS y Let's Encrypt</h4>
    <p>Para este desaf√≠o, necesitar√°s un dominio real o un subdominio que apunte a la IP p√∫blica de tu servidor (puedes
        usar servicios de DNS din√°mico si trabajas desde casa).</p>
    <ol>
        <li>Instala <strong>Certbot</strong>, el cliente oficial de Let's Encrypt, en tu servidor.</li>
        <li>Utiliza Certbot para obtener e instalar autom√°ticamente un certificado SSL/TLS para uno de tus dominios.
        </li>
        <li>Certbot modificar√° tu configuraci√≥n de Nginx. Examina los cambios que ha realizado en el archivo de Server
            Block.</li>
        <li>Verifica que tu sitio ahora carga con HTTPS y que el navegador muestra el candado de seguridad.</li>
        <li>Como paso final, aseg√∫rate de que todo el tr√°fico que llega por HTTP (puerto 80) sea redirigido
            autom√°ticamente a HTTPS (puerto 443). Certbot suele ofrecer esta opci√≥n durante la instalaci√≥n.</li>
    </ol>

    <h4 class="mb-4 text-primary">Desaf√≠o 8: Nginx como Proxy Inverso para una Aplicaci√≥n Node.js</h4>
    <ol>
        <li>Instala Node.js en tu servidor.</li>
        <li>Crea una aplicaci√≥n "Hello World" muy simple con Express.js que se ejecute en el puerto 3000.</li>
        <li>Modifica la configuraci√≥n de Nginx para que act√∫e como <strong>proxy inverso</strong>. La idea es que
            cuando un usuario visite tu dominio en el puerto 80, Nginx intercepte la petici√≥n y la reenv√≠e a la
            aplicaci√≥n Node.js que est√° escuchando en <code>localhost:3000</code>.</li>
        <li>Aseg√∫rate de que puedes ver el mensaje de tu aplicaci√≥n Node.js al acceder a tu dominio desde el navegador,
            sin necesidad de especificar el puerto :3000.</li>
    </ol>
</div>
